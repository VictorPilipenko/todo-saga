(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[10],{585:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(39),c=n(538),o=n.n(c),i=n(0),s=n(204),d=n(65),j=n(192),l=n(16),u=n(17);function b(){var e=Object(l.a)(["\n  max-width: 512px;\n  position: relative;\n  margin: 0 auto;\n"]);return b=function(){return e},e}var O=u.c.div(b()),g=function(e){var t=e.children,n=e.callOnPageVisibility,r=Object(j.a)(),c=Object(s.a)();return Object(i.useEffect)((function(){"function"===typeof n&&c&&!r&&(console.log("".concat(null===n||void 0===n?void 0:n.name," from Template on usePageVisibility hook by isVisible === true")),d.a.reset(),n())}),[c]),Object(a.jsx)(O,{children:t})},h=n(131),p={page:{selector:function(e){return e.todos.pagination.currentPage},action:h.h,stringToValue:function(e){return Number.parseInt(e)||1}},size:{selector:function(e){return e.todos.pagination.pageSize},action:h.i,stringToValue:function(e){return Number.parseInt(e)||1}}},x=n(116),f=(n(581),n(577)),m=(n(402),n(403)),v=n(254),T=(n(184),n(88)),y=(n(413),n(414)),S=(n(394),n(405)),k=(n(398),n(404)),z=n(44),C=n(591),F=n(6),w=(n(437),n(439)),P=n(68),V=function(e){var t=e.current,n=e.total,r=e.pageSize,c=e.onChange,o=Object(P.a)(e,["current","total","pageSize","onChange"]);return Object(a.jsx)(w.a,Object(F.a)({current:t,total:n,pageSize:r,onChange:c},o))},I=n(115);function E(){var e=Object(l.a)(["\n  margin-bottom: 10px; \n"]);return E=function(){return e},e}var R=Object(u.c)(m.a)(E()),M=n(584),q=function(e){var t=e.onFormSubmit,n=e.loading,c=e.pagination,o=Object(M.a)(),i=k.a.useForm(),s=Object(z.a)(i,1)[0],d=Object(r.d)();return Object(a.jsx)(k.a,{form:s,onFinish:function(){t({name:s.getFieldValue("name")}),s.resetFields()},layout:"horizontal",children:Object(a.jsxs)(m.a,{justify:"space-between",children:[Object(a.jsxs)(R,{gutter:15,wrap:!1,children:[Object(a.jsx)(y.a,{children:Object(a.jsx)(k.a.Item,{name:"name",rules:[{required:!0,message:"This field is required"}],children:Object(a.jsx)(S.a,{placeholder:o.formatMessage({id:"todo.input.placeholder"})})})}),Object(a.jsx)(y.a,{children:Object(a.jsxs)(T.a,{type:"primary",htmlType:"submit",block:!0,disabled:n,children:[Object(a.jsx)(C.a,{}),Object(a.jsxs)(I.a,{children:[" ",Object(a.jsx)(v.a,{id:"todo.input.button"})]})]})})]}),Object(a.jsx)(y.a,{children:Object(a.jsx)(V,{current:c.currentPage,total:c.totalCount,pageSize:c.pageSize,showSizeChanger:!0,onChange:function(e,t){d(Object(h.d)({page:e,pageSize:t}))},pageSizeOptions:["1","2","5","10"]})})]})})},J=(n(549),n(579)),N=(n(443),n(441)),L=(n(392),n(393)),X=(n(553),n(582)),A=n(592),B=n(593),D=(n(555),n(583));function G(){var e=Object(l.a)(["\n  flex-direction: column !important; \n"]);return G=function(){return e},e}function H(){var e=Object(l.a)(["\n  margin: 10px 0px 0px 0px;\n"]);return H=function(){return e},e}function K(){var e=Object(l.a)(["\n  white-space: normal !important;\n  word-break: break-all;\n"]);return K=function(){return e},e}var Q=Object(u.c)(D.a)(K()),U=Object(u.c)(y.a)(H()),W=Object(u.c)(m.a)(G()),Y=n(195),Z=function(e){var t=e.todo,n=e.onTodoRemoval,r=e.onTodoToggle,c=Object(Y.a)(),o=c.showModal,i=c.renderModal;return Object(a.jsxs)(a.Fragment,{children:[i({confirmLoading:t.areFetching,onOk:function(){return n(t)},render:function(){return Object(a.jsx)("h3",{children:Object(a.jsx)(v.a,{id:"todo.modal.delete.title"})})}}),Object(a.jsx)(N.b.Item,{actions:[Object(a.jsx)(X.a,{loading:t.areFetching,checkedChildren:Object(a.jsx)(A.a,{}),unCheckedChildren:Object(a.jsx)(B.a,{}),onChange:function(e){return r({todo:t,state:e})},checked:t.details.done}),Object(a.jsx)(T.a,{danger:!0,type:"primary",disabled:t.areFetching,onClick:o,children:"X"})],children:Object(a.jsxs)(W,{children:[Object(a.jsx)(y.a,{children:Object(a.jsx)(Q,{color:t.details.done?"green":"red",children:t.details.text})}),t.fetchingError&&Object(a.jsx)(U,{children:Object(a.jsx)(L.a,{message:t.fetchingError,type:"error",showIcon:!0,closable:!0})})]})},t.details.id)]})},$=function(e){var t=e.error,n=e.loading,r=e.todos,c=e.onTodoRemoval,o=e.onTodoToggle;return Object(a.jsx)(a.Fragment,{children:t?Object(a.jsx)(L.a,{message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:t,type:"error"}):Object(a.jsx)(J.a,{loading:n&&0===r.length,active:!0,children:Object(a.jsx)(N.b,{loading:n,locale:{emptyText:"\u0414\u0435\u043b\u0430\u0442\u044c \u043d\u0435\u0447\u0435\u0433\u043e :("},dataSource:r,renderItem:function(e){return Object(a.jsx)(Z,{todo:e,onTodoToggle:o,onTodoRemoval:c},e.details.id)}})})})},_=(n(580),n(578));function ee(){var e=Object(l.a)(["\n.ant-page-header-heading-title {\n  overflow: visible;\n}\n.ant-page-header-heading-sub-title {\n  white-space: normal;\n}\n"]);return ee=function(){return e},e}var te=Object(u.c)(_.a)(ee()),ne=function(e){var t=e.handler,n=Object(r.d)(),a=Object(j.a)();Object(i.useEffect)((function(){a&&n(t)}),[n,a,t])},ae=function(){var e=Object(r.d)(),t=Object(r.e)((function(e){return e.todos})),n=t.items,c=t.loading,o=t.error,i=t.pagination;ne({handler:Object(h.d)({page:i.currentPage,pageSize:i.pageSize})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(te,{title:Object(a.jsx)(v.a,{id:"todo.hader.title"}),subTitle:Object(a.jsx)(v.a,{id:"todo.hader.subtitle"})})})}),Object(a.jsx)(f.a,{title:Object(a.jsx)(v.a,{id:"todo.input.title"}),children:Object(a.jsx)(q,{onFormSubmit:function(t){var n={text:t.name,done:!1};e(Object(h.a)(n))},loading:c,pagination:i})}),Object(a.jsx)(f.a,{title:Object(a.jsx)(v.a,{id:"list.title"}),children:Object(a.jsx)($,{error:o,loading:c,todos:n,onTodoRemoval:function(t){var n={id:t.details.id};e(Object(h.c)(n))},onTodoToggle:function(t){var n=t.todo,a=t.state,r={id:n.details.id,done:a};e(Object(h.g)(r))}})})]})},re=(n(395),n(397)),ce=n(101),oe=n(594),ie=re.a.Paragraph,se=function(){var e=Object(r.d)(),t=Object(r.e)((function(e){return e.sockets})),n=t.message,c=t.connecting,o=t.isConnected,i=t.error;return Object(a.jsxs)(a.Fragment,{children:[i&&Object(a.jsx)(L.a,{message:null===i||void 0===i?void 0:i.type,type:"error"}),Object(a.jsxs)(ie,{children:[o&&Object(a.jsx)(oe.a,{})," last data: ",n]}),Object(a.jsx)(T.a,{loading:c,onClick:function(){e(o?Object(ce.a)():Object(ce.c)())},children:o?"close socket connection":"open socket connection"})]})};o()({store:x.a,params:p,initialTruth:"location",replaceState:!0});t.default=function(){var e=Object(r.d)(),t=Object(r.e)((function(e){return e.todos})).pagination;return Object(a.jsxs)(g,{callOnPageVisibility:function(){e(Object(h.d)({page:t.currentPage,pageSize:t.pageSize}))},children:[Object(a.jsx)(se,{}),Object(a.jsx)(ae,{})]})}}}]);
//# sourceMappingURL=10.fb4a1b8a.chunk.js.map