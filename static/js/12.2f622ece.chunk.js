(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[12],{573:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(48),i=n(525),o=n.n(i),c=n(0),d=n(190),l=n(57),s=n(178),j=n(16),u=n(15);function b(){var e=Object(j.a)(["\n  max-width: 512px;\n  position: relative;\n  margin: 0 auto;\n"]);return b=function(){return e},e}var O=u.default.div(b()),g=function(e){var t=e.children,n=e.callOnPageVisibility,r=Object(s.a)(),i=Object(d.a)();return Object(c.useEffect)((function(){"function"===typeof n&&i&&!r&&(console.log("".concat(null===n||void 0===n?void 0:n.name," from Template on usePageVisibility hook by isVisible === true")),l.a.reset(),n())}),[i]),Object(a.jsx)(O,{children:t})},h=n(118),p={page:{selector:function(e){return e.todos.pagination.currentPage},action:h.h,stringToValue:function(e){return Number.parseInt(e)||1}},size:{selector:function(e){return e.todos.pagination.pageSize},action:h.i,stringToValue:function(e){return Number.parseInt(e)||1}}},f=n(142),x=(n(569),n(564)),m=(n(341),n(342)),v=n(221),T=(n(169),n(83)),S=(n(354),n(355)),y=(n(333),n(344)),z=(n(337),n(343)),w=n(42),F=n(579),k=n(7),C=(n(398),n(400)),P=n(66),V=function(e){var t=e.current,n=e.total,r=e.pageSize,i=e.onChange,o=Object(P.a)(e,["current","total","pageSize","onChange"]);return Object(a.jsx)(C.a,Object(k.a)({current:t,total:n,pageSize:r,onChange:i},o))},I=n(78);function E(){var e=Object(j.a)(["\n  margin-bottom: 10px; \n"]);return E=function(){return e},e}var R=Object(u.default)(m.a)(E()),M=n(572),q=function(e){var t=e.onFormSubmit,n=e.loading,i=e.pagination,o=Object(M.a)(),c=z.a.useForm(),d=Object(w.a)(c,1)[0],l=Object(r.d)();return Object(a.jsx)(z.a,{form:d,onFinish:function(){t({name:d.getFieldValue("name")}),d.resetFields()},layout:"horizontal",children:Object(a.jsxs)(m.a,{justify:"space-between",children:[Object(a.jsxs)(R,{gutter:15,wrap:!1,children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(z.a.Item,{name:"name",rules:[{required:!0,message:"This field is required"}],children:Object(a.jsx)(y.a,{placeholder:o.formatMessage({id:"todo.input.placeholder"})})})}),Object(a.jsx)(S.a,{children:Object(a.jsxs)(T.a,{type:"primary",htmlType:"submit",block:!0,disabled:n,children:[Object(a.jsx)(F.a,{}),Object(a.jsxs)(I.a,{children:[" ",Object(a.jsx)(v.a,{id:"todo.input.button"})]})]})})]}),Object(a.jsx)(S.a,{children:Object(a.jsx)(V,{current:i.currentPage,total:i.totalCount,pageSize:i.pageSize,showSizeChanger:!0,onChange:function(e,t){l(Object(h.d)({page:e,pageSize:t}))},pageSizeOptions:["1","2","5","10"]})})]})})},J=(n(536),n(567)),N=(n(404),n(401)),L=(n(334),n(336)),X=(n(540),n(570)),A=n(580),B=n(581),D=(n(542),n(571));function G(){var e=Object(j.a)(["\n  flex-direction: column !important; \n"]);return G=function(){return e},e}function H(){var e=Object(j.a)(["\n  margin: 10px 0px 0px 0px;\n"]);return H=function(){return e},e}function K(){var e=Object(j.a)(["\n  white-space: normal !important;\n  word-break: break-all;\n"]);return K=function(){return e},e}var Q=Object(u.default)(D.a)(K()),U=Object(u.default)(S.a)(H()),W=Object(u.default)(m.a)(G()),Y=n(182),Z=function(e){var t=e.todo,n=e.onTodoRemoval,r=e.onTodoToggle,i=Object(Y.a)(),o=i.showModal,c=i.renderModal;return Object(a.jsxs)(a.Fragment,{children:[c({confirmLoading:t.areFetching,onOk:function(){return n(t)},render:function(){return Object(a.jsx)("h3",{children:Object(a.jsx)(v.a,{id:"todo.modal.delete.title"})})}}),Object(a.jsx)(N.b.Item,{actions:[Object(a.jsx)(X.a,{loading:t.areFetching,checkedChildren:Object(a.jsx)(A.a,{}),unCheckedChildren:Object(a.jsx)(B.a,{}),onChange:function(e){return r({todo:t,state:e})},checked:t.details.done}),Object(a.jsx)(T.a,{danger:!0,type:"primary",disabled:t.areFetching,onClick:o,children:"X"})],children:Object(a.jsxs)(W,{children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(Q,{color:t.details.done?"green":"red",children:t.details.text})}),t.fetchingError&&Object(a.jsx)(U,{children:Object(a.jsx)(L.a,{message:t.fetchingError,type:"error",showIcon:!0,closable:!0})})]})},t.details.id)]})},$=function(e){var t=e.err,n=e.loading,r=e.todos,i=e.onTodoRemoval,o=e.onTodoToggle;return Object(a.jsx)(a.Fragment,{children:t?Object(a.jsx)(L.a,{message:"\u041e\u0448\u0438\u0431\u043a\u0430",description:t,type:"error"}):Object(a.jsx)(J.a,{loading:n&&0===r.length,active:!0,children:Object(a.jsx)(N.b,{loading:n,locale:{emptyText:"\u0414\u0435\u043b\u0430\u0442\u044c \u043d\u0435\u0447\u0435\u0433\u043e :("},dataSource:r,renderItem:function(e){return Object(a.jsx)(Z,{todo:e,onTodoToggle:o,onTodoRemoval:i},e.details.id)}})})})},_=(n(568),n(565));function ee(){var e=Object(j.a)(["\n.ant-page-header-heading-title {\n  overflow: visible;\n}\n.ant-page-header-heading-sub-title {\n  white-space: normal;\n}\n"]);return ee=function(){return e},e}var te=Object(u.default)(_.a)(ee()),ne=function(e){var t=e.handler,n=Object(r.d)(),a=Object(s.a)();Object(c.useEffect)((function(){a&&n(t)}),[n,a,t])},ae=function(){var e=Object(r.d)(),t=Object(r.e)((function(e){return e.todos})),n=t.items,i=t.loading,o=t.err,c=t.pagination;ne({handler:Object(h.d)({page:c.currentPage,pageSize:c.pageSize})});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(te,{title:Object(a.jsx)(v.a,{id:"todo.hader.title"}),subTitle:Object(a.jsx)(v.a,{id:"todo.hader.subtitle"})})})}),Object(a.jsx)(x.a,{title:Object(a.jsx)(v.a,{id:"todo.input.title"}),children:Object(a.jsx)(q,{onFormSubmit:function(t){var n={text:t.name,done:!1};e(Object(h.a)(n))},loading:i,pagination:c})}),Object(a.jsx)(x.a,{title:Object(a.jsx)(v.a,{id:"list.title"}),children:Object(a.jsx)($,{err:o,loading:i,todos:n,onTodoRemoval:function(t){var n={id:t.details.id};e(Object(h.c)(n))},onTodoToggle:function(t){var n=t.todo,a=t.state,r={id:n.details.id,done:a};e(Object(h.g)(r))}})})]})};o()({store:f.a,params:p,initialTruth:"location",replaceState:!0});t.default=function(){var e=Object(r.d)(),t=Object(r.e)((function(e){return e.todos})).pagination;return Object(a.jsx)(g,{callOnPageVisibility:function(){e(Object(h.d)({page:t.currentPage,pageSize:t.pageSize}))},children:Object(a.jsx)(ae,{})})}}}]);
//# sourceMappingURL=12.2f622ece.chunk.js.map