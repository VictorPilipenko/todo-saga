{"version":3,"sources":["api/todo.js","store/actions/todo.js","common/responsive/index.js","store/reducers/theme.js","store/reducers/todo.js","store/sagas/todo.js","store/watchers/todo.js","store/sagas/theme.js","store/watchers/theme.js","store/index.js","store/actions/theme.js","store/types.js","common/loader/index.js","hooks/useIsFirstMount.js","hooks/usePageVisibility.js","styles/global.js","utils/routeNProgress.js","config/nprogress.js","layout/public/footer/index.js","config/overlayBodyScrollbar.js","layout/theme/index.js","layout/public/header/index.js","layout/public/index.js","utils/publicRoute.js","layout/private/sider/index.js","layout/private/footer/index.js","layout/private/header/index.js","common/drawer/index.js","layout/private/index.js","utils/privateRoute.js","routes/index.js","hooks/useNavigatorOnLine.js","utils/checkOnlineStatusModal.js","common/modal/default.js","utils/checkPageVisibilityStatus.js","hooks/useInterval.js","index.js","config/notification.js","common/notification/index.js","config/axios.js"],"names":["createAPI","post","API","getAPI","payload","get","page","pageSize","useCache","markDoneAPI","id","done","patch","deleteAPI","delete","createTodo","createAction","TYPES","createTodoSuccess","createTodoFailure","getTodos","getTodosSuccess","getTodosFailure","markTodoDone","markTodoDoneSuccess","markTodoDoneFailure","deleteTodo","deleteTodoSuccess","deleteTodoFailure","setCurrentPage","setPageSize","combinedActions","create","api","success","failure","mark","Mobile","children","useMediaQuery","maxWidth","Default","minWidth","initialState","name","localStorage","getItem","reducer","state","action","type","loading","items","pagination","currentPage","totalPages","totalCount","err","LOCATION_CHANGE","map","item","details","areFetching","fetchingError","filter","message","getTodosSaga","getState","todos","cancelledAll","Object","keys","currentExecutingGetRequests","forEach","el","source","cancel","getCurrentPage","createSaga","sagaType","combinedAction","call","put","notification","select","length","error","createTodoSaga","markTodoSaga","deleteTodoSaga","response","Number","parseInt","Math","ceil","headers","data","cancelled","todosSaga","cancellationFlow","saga","fork","task","take","takeLatest","takeEvery","themeSaga","changeAppTheme","themesSaga","rootSaga","history","createBrowserHistory","sagaMiddleware","createSagaMiddleware","middlewares","routerMiddleware","enhancer","compose","applyMiddleware","combineReducers","theme","router","connectRouter","all","store","createStore","run","window","__REACT_DEVTOOLS_GLOBAL_HOOK__","entries","key","value","appTheme","CREATE_TODO_REQUEST","CREATE_TODO_SUCCESS","CREATE_TODO_FAILURE","GET_TODOS_REQUEST","GET_TODOS_SUCCESS","GET_TODOS_FAILURE","MARK_TODO_DONE_REQUEST","MARK_TODO_DONE_SUCCESS","MARK_TODO_DONE_FAILURE","DELETE_TODO_REQUEST","DELETE_TODO_SUCCESS","DELETE_TODO_FAILURE","SET_CURRENT_PAGE","SET_PAGE_SIZE","APP_THEME","CHANGE_APP_THEME","rotate","keyframes","Loader","styled","div","props","global","css","useIsFirstMount","isMountRef","useRef","useEffect","current","getIsDocumentHidden","document","hidden","msHidden","webkitHidden","usePageVisibility","useState","isVisible","setIsVisible","onVisibilityChange","visibilityChange","addEventListener","removeEventListener","GlobalStyle","createGlobalStyle","normalize","RouteNProgress","NProgress","start","inc","remove","config","showSpinner","minimum","easeing","speed","trickleRate","Footer","FooterBlock","FooterApp","instBodyOverlayScrollbar","OverlayScrollbars","body","changeBodyScrollbarTheme","options","className","ThemeSwitcher","dispatch","useDispatch","useSelector","JSON","parse","lightVars","vars","setVars","less","modifyVars","catch","placeholder","onSelect","darkVars","setItem","stringify","Option","Header","HeadBlock","Head","collapsed","today","Date","toLocaleDateString","Content","ContentBlock","LayoutBlock","LayoutInner","PublicLayout","PublicRoute","Component","component","rest","render","routeProps","Sider","SiderBlock","Logo","src","App","onCollapse","location","useLocation","collapsible","process","mode","selectedKeys","pathname","Item","danger","title","HomeOutlined","to","TeamOutlined","hideDrawer","showDrawer","renderDrawer","placement","closable","onClose","visible","useDrawer","onClick","MoreOutlined","PrivateLayout","setCollapsed","configure","ToDo","lazy","SignUp","NotFound","fallback","path","useNavigatorOnLine","navigator","onLine","status","setStatus","setOnline","setOffline","CheckOnlineStatusModal","isFirstMount","isOnline","setMessage","hideModal","showModal","renderModal","footer","onCancel","useModal","CheckPageVisibilityStatus","time","setTime","callback","delay","savedCallback","setInterval","clearInterval","useInterval","console","log","ReactDOM","locale","ru_RU","getElementById","bottom","duration","warning","info","axiosCache","Cache","maxAge","cacheConfig","enabledByDefault","cacheFlag","defaultCache","instance","axios","baseURL","adapter","cacheAdapterEnhancer","defaults","interceptors","request","use","req","originalRequest","main","url","split","method","CancelToken","cancelToken","token","Promise","reject","responseURL","reset","isCancel"],"mappings":"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","file":"static/js/main.71770932.chunk.js","sourcesContent":["import API from '../config/axios';\r\n\r\nexport const createAPI = post => API.post(\"todos\", post)\r\nexport const getAPI = payload => API.get(`todos?_page=${payload.page}&_limit=${payload.pageSize}`, { useCache: true })\r\nexport const markDoneAPI = ({ id, done }) => API.patch(`todos/${id}`, { done })\r\nexport const deleteAPI = ({ id }) => API.delete(`todos/${id}`)\r\n","import { createAction } from \"redux-actions\"\r\nimport * as TYPES from '../types'\r\nimport {\r\n  createAPI,\r\n  markDoneAPI,\r\n  deleteAPI\r\n} from \"../../api/todo\";\r\n\r\nexport const createTodo = createAction(TYPES.CREATE_TODO_REQUEST) // post\r\nexport const createTodoSuccess = createAction(TYPES.CREATE_TODO_SUCCESS)\r\nexport const createTodoFailure = createAction(TYPES.CREATE_TODO_FAILURE)\r\n\r\nexport const getTodos = createAction(TYPES.GET_TODOS_REQUEST)\r\nexport const getTodosSuccess = createAction(TYPES.GET_TODOS_SUCCESS)\r\nexport const getTodosFailure = createAction(TYPES.GET_TODOS_FAILURE)\r\n\r\nexport const markTodoDone = createAction(TYPES.MARK_TODO_DONE_REQUEST) // id\r\nexport const markTodoDoneSuccess = createAction(TYPES.MARK_TODO_DONE_SUCCESS)\r\nexport const markTodoDoneFailure = createAction(TYPES.MARK_TODO_DONE_FAILURE)\r\n\r\nexport const deleteTodo = createAction(TYPES.DELETE_TODO_REQUEST) // id\r\nexport const deleteTodoSuccess = createAction(TYPES.DELETE_TODO_SUCCESS)\r\nexport const deleteTodoFailure = createAction(TYPES.DELETE_TODO_FAILURE)\r\n\r\nexport const setCurrentPage = createAction(TYPES.SET_CURRENT_PAGE) \r\nexport const setPageSize = createAction(TYPES.SET_PAGE_SIZE) \r\n\r\n\r\nconst combinedActions = {\r\n  create: {\r\n    api: createAPI,\r\n    success: createTodoSuccess,\r\n    failure: createTodoFailure\r\n  },\r\n  mark: {\r\n    api: markDoneAPI,\r\n    success: markTodoDoneSuccess,\r\n    failure: markTodoDoneFailure\r\n  },\r\n  delete: {\r\n    api: deleteAPI,\r\n    success: deleteTodoSuccess,\r\n    failure: deleteTodoFailure\r\n  }\r\n}\r\n\r\nexport default combinedActions\r\n","import React from 'react'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nexport const Desktop = ({ children }) => {\r\n  const isDesktop = useMediaQuery({ minWidth: 992 })\r\n  return isDesktop ? children : null\r\n}\r\n\r\nexport const Tablet = ({ children }) => {\r\n  const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 991 })\r\n  return isTablet ? children : null\r\n}\r\n\r\nexport const Mobile = ({ children }) => {\r\n  const isMobile = useMediaQuery({ maxWidth: 767 })\r\n  return isMobile ? children : null\r\n}\r\n\r\nexport const Default = ({ children }) => {\r\n  const isNotMobile = useMediaQuery({ minWidth: 768 })\r\n  return isNotMobile ? children : null\r\n}\r\n\r\n\r\n// const Example = () => (\r\n//   <>\r\n//     <Desktop>Desktop or laptop</Desktop>\r\n//     <Tablet>Tablet</Tablet>\r\n//     <Mobile>Mobile</Mobile>\r\n//     <Default>Not mobile (desktop or laptop or tablet)</Default>\r\n//   </>\r\n// )\r\n","import * as TYPES from '../types'\r\n\r\nconst initialState = {\r\n  name: localStorage.getItem(\"theme-name\") || 'light'\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TYPES.CHANGE_APP_THEME:\r\n      return {\r\n        ...state,\r\n        name: action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer\r\n","import * as TYPES from '../types'\r\nimport { LOCATION_CHANGE } from 'connected-react-router';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  items: [\r\n    // {\r\n    //   details: {\r\n    //     id: 1,\r\n    //     text: 'text',\r\n    //     done: true,\r\n    //   },\r\n    //   fetchingError: null,\r\n    //   areFetching: false\r\n    // }\r\n  ],\r\n  pagination: {\r\n    currentPage: 1,\r\n    pageSize: 5,\r\n    totalPages: 1,\r\n    totalCount: 1,\r\n  },\r\n  err: \"\"\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case TYPES.SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        pagination: {\r\n          ...state.pagination,\r\n          currentPage: action.payload || state.pagination.currentPage\r\n        }\r\n      };\r\n    case TYPES.SET_PAGE_SIZE:\r\n      return {\r\n        ...state,\r\n        pagination: {\r\n          ...state.pagination,\r\n          pageSize: action.payload || state.pagination.pageSize\r\n        }\r\n      };\r\n    case LOCATION_CHANGE:\r\n      return {\r\n        ...state,\r\n        loading: initialState.loading,\r\n        err: initialState.err,\r\n      };\r\n    case TYPES.GET_TODOS_REQUEST:\r\n    case TYPES.CREATE_TODO_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case TYPES.DELETE_TODO_REQUEST:\r\n    case TYPES.MARK_TODO_DONE_REQUEST:\r\n      return {\r\n        ...state,\r\n        items: state.items.map(item => {\r\n          if (item.details.id === action.payload.id) {\r\n            return {\r\n              ...item,\r\n              areFetching: true,\r\n              fetchingError: ''\r\n            };\r\n          }\r\n          return item;\r\n        })\r\n      };\r\n    case TYPES.CREATE_TODO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: initialState.loading,\r\n        err: initialState.err,\r\n      };\r\n    case TYPES.DELETE_TODO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        items: state.items.filter(item => item.details.id !== action.payload.id),\r\n        loading: initialState.loading,\r\n        err: initialState.err,\r\n      };\r\n    case TYPES.MARK_TODO_DONE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        items: state.items.map(item => {\r\n          if (item.details.id === action.payload.id) {\r\n            return {\r\n              ...item,\r\n              details: {\r\n                ...item.details,\r\n                done: action.payload.done,\r\n              },\r\n              areFetching: false,\r\n              fetchingError: ''\r\n            };\r\n          }\r\n          return item;\r\n        }),\r\n        loading: initialState.loading,\r\n        err: initialState.err,\r\n      };\r\n    case TYPES.GET_TODOS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: initialState.loading,\r\n        err: initialState.err,\r\n        items: action.payload.items,\r\n        pagination: action.payload.pagination\r\n      };\r\n    case TYPES.GET_TODOS_FAILURE:\r\n    case TYPES.CREATE_TODO_FAILURE:\r\n      return {\r\n        ...state,\r\n        loading: initialState.loading,\r\n        err: action.payload.message\r\n      };\r\n    case TYPES.DELETE_TODO_FAILURE:\r\n    case TYPES.MARK_TODO_DONE_FAILURE:\r\n      return {\r\n        ...state,\r\n        items: state.items.map(item => {\r\n          if (item.details.id === action.payload.id) {\r\n            return {\r\n              ...item,\r\n              areFetching: false,\r\n              fetchingError: action.payload.message\r\n            };\r\n          }\r\n          return item;\r\n        }),\r\n        loading: initialState.loading,\r\n        err: initialState.err,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer\r\n","import { put, call, cancelled, select } from \"redux-saga/effects\";\r\nimport { getAPI } from \"../../api/todo\";\r\nimport notification from \"../../common/notification\";\r\nimport { currentExecutingGetRequests } from \"../../config/axios\";\r\nimport combinedActions, { getTodosSuccess, getTodosFailure, getTodos } from \"../actions/todo\";\r\n\r\nconst getState = (state) => state.todos;\r\n\r\nconst cancelledAll = api => {\r\n  Object.keys(currentExecutingGetRequests).forEach(el => {\r\n    if (el === api) {\r\n      const source = currentExecutingGetRequests[el]\r\n      delete currentExecutingGetRequests[el]\r\n      source.cancel()\r\n    }\r\n  })\r\n}\r\n\r\nconst getCurrentPage = (currentPage, totalPages, items) => {\r\n  if (totalPages === 1) {\r\n    return 1\r\n  }\r\n  else if (currentPage === totalPages && items === 0) {\r\n    return totalPages - 1\r\n  }\r\n  return currentPage\r\n}\r\n\r\nexport const createSaga = sagaType => function* (action) {\r\n  const combinedAction = combinedActions[sagaType]\r\n  try {\r\n    yield call(combinedAction.api, action.payload)\r\n    yield put(combinedAction.success(action.payload))\r\n    notification.success(sagaType)\r\n    if (sagaType === \"create\" || sagaType === \"delete\") {\r\n      const state = yield select(getState)\r\n\r\n      const currentPage = state.pagination.currentPage\r\n      const pageSize = state.pagination.pageSize\r\n      const totalPages = state.pagination.totalPages\r\n      const items = state.items.length\r\n\r\n      const pagination = {\r\n        page: getCurrentPage(currentPage, totalPages, items),\r\n        pageSize,\r\n      }\r\n\r\n      yield put(getTodos(pagination))\r\n    }\r\n  } catch (err) {\r\n    yield put(combinedAction.failure({\r\n      id: action.payload.id,\r\n      message: err.message\r\n    }))\r\n    notification.error(sagaType)\r\n  }\r\n}\r\n\r\nexport const createTodoSaga = createSaga(\"create\")\r\nexport const markTodoSaga = createSaga(\"mark\")\r\nexport const deleteTodoSaga = createSaga(\"delete\")\r\n\r\nexport function* getTodosSaga(action) {\r\n  try {\r\n    const response = yield call(getAPI, action.payload)\r\n\r\n    const currentPage = Number.parseInt(action.payload.page)\r\n    const pageSize = Number.parseInt(action.payload.pageSize)\r\n    const totalPages = Math.ceil(response.headers['x-total-count'] / pageSize)\r\n    const totalCount =  Number.parseInt(response.headers['x-total-count'])\r\n \r\n    const pagination = {\r\n      currentPage,\r\n      pageSize,\r\n      totalPages,\r\n      totalCount,\r\n    }\r\n\r\n    yield put(getTodosSuccess({\r\n      items:\r\n        response.data.map(item => ({\r\n          details: {\r\n            ...item\r\n          },\r\n          fetchingError: '',\r\n          areFetching: false\r\n        })),\r\n      pagination\r\n    }))\r\n    notification.success(\"get\")\r\n  } catch (err) {\r\n    yield put(getTodosFailure(err))\r\n    notification.error(\"get\")\r\n  }\r\n  finally {\r\n    if (yield cancelled()) {\r\n      cancelledAll('todos')\r\n    }\r\n  }\r\n}\r\n","import { takeLatest, fork, cancel, take, takeEvery } from \"redux-saga/effects\";\r\nimport {\r\n  createTodoSaga, getTodosSaga, markTodoSaga, deleteTodoSaga\r\n} from '../sagas/todo'\r\nimport * as TYPES from '../types'\r\nimport { LOCATION_CHANGE } from 'connected-react-router';\r\n\r\nconst cancellationFlow = saga => function* (action) {\r\n  const task = yield fork(saga, action)\r\n  yield take(LOCATION_CHANGE)\r\n  yield cancel(task)\r\n}\r\n\r\nexport default function* todosSaga() {\r\n  yield takeLatest(TYPES.GET_TODOS_REQUEST, cancellationFlow(getTodosSaga))\r\n  yield takeEvery(TYPES.CREATE_TODO_REQUEST, createTodoSaga)\r\n  yield takeEvery(TYPES.MARK_TODO_DONE_REQUEST, markTodoSaga)\r\n  yield takeEvery(TYPES.DELETE_TODO_REQUEST, deleteTodoSaga)\r\n}\r\n","import { put } from \"redux-saga/effects\";\r\nimport { changeAppTheme } from \"../actions/theme\";\r\n\r\nexport function* themeSaga(action) {\r\n  try {\r\n    yield put(changeAppTheme(action.payload))\r\n  } catch (err) { }\r\n}\r\n","import { takeLatest } from \"redux-saga/effects\";\r\nimport { themeSaga } from \"../sagas/theme\";\r\nimport * as TYPES from '../types'\r\n\r\nexport default function* themesSaga() {\r\n  yield takeLatest(TYPES.APP_THEME, themeSaga)\r\n}\r\n","\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { combineReducers } from \"redux\";\r\nimport { all } from \"redux-saga/effects\";\r\nimport theme from \"../store/reducers/theme\";\r\nimport todos from \"../store/reducers/todo\";\r\nimport todosSaga from '../store/watchers/todo'\r\n\r\nimport { createBrowserHistory } from \"history\"\r\nimport themesSaga from \"./watchers/theme\";\r\nexport const history = createBrowserHistory()\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middlewares = [\r\n  sagaMiddleware,\r\n  routerMiddleware(history)\r\n]\r\nconst enhancer =\r\n  process.env.NODE_ENV === 'production'\r\n    ? compose(applyMiddleware(...middlewares))\r\n    : composeWithDevTools(applyMiddleware(...middlewares));\r\nconst reducer = combineReducers({\r\n  theme,\r\n  todos,\r\n  router: connectRouter(history),\r\n})\r\nfunction* rootSaga() {\r\n  yield all([\r\n    themesSaga(),\r\n    todosSaga()\r\n  ])\r\n}\r\nconst store = createStore(reducer, enhancer);\r\nsagaMiddleware.run(rootSaga);\r\n\r\n// disable react-dev-tools for production\r\nif (process.env.NODE_ENV === 'production') {\r\n  if (typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__ === \"object\") {\r\n    for (let [key, value] of Object.entries(window.__REACT_DEVTOOLS_GLOBAL_HOOK__)) {\r\n      window.__REACT_DEVTOOLS_GLOBAL_HOOK__[key] = typeof value == \"function\" ? () => { } : null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default store;\r\n","import { createAction } from \"redux-actions\"\r\nimport * as TYPES from '../types'\r\n\r\nexport const appTheme = createAction(TYPES.APP_THEME)\r\nexport const changeAppTheme = createAction(TYPES.CHANGE_APP_THEME)","\r\nexport const CREATE_TODO_REQUEST = \"CREATE_TODO_REQUEST\"\r\nexport const CREATE_TODO_SUCCESS = \"CREATE_TODO_SUCCESS\"\r\nexport const CREATE_TODO_FAILURE = \"CREATE_TODO_FAILURE\"\r\n\r\nexport const GET_TODOS_REQUEST = \"GET_TODOS_REQUEST\"\r\nexport const GET_TODOS_SUCCESS = \"GET_TODOS_SUCCESS\"\r\nexport const GET_TODOS_FAILURE = \"GET_TODO_FAILURE\"\r\n\r\nexport const MARK_TODO_DONE_REQUEST = \"MARK_TODO_DONE_REQUEST\"\r\nexport const MARK_TODO_DONE_SUCCESS = \"MARK_TODO_DONE_SUCCESS\"\r\nexport const MARK_TODO_DONE_FAILURE = \"MARK_TODO_DONE_FAILURE\"\r\n\r\nexport const DELETE_TODO_REQUEST = \"DELETE_TODO_REQUEST\"\r\nexport const DELETE_TODO_SUCCESS = \"DELETE_TODO_SUCCESS\"\r\nexport const DELETE_TODO_FAILURE = \"DELETE_TODO_FAILURE\"\r\n\r\nexport const SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\"\r\nexport const SET_PAGE_SIZE = \"SET_PAGE_SIZE\"\r\n\r\nexport const APP_THEME = \"APP_THEME\"\r\nexport const CHANGE_APP_THEME = \"CHANGE_APP_THEME\"\r\n\r\n","import styled, { keyframes, css } from \"styled-components\";\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nexport const Loader = styled.div`\r\n  border: 5px solid #38d9a94f;\r\n  border-top: 5px solid #38d9a9bf;\r\n  border-radius: 50%;\r\n  width: 35px;\r\n  height: 35px;\r\n  animation: ${rotate} 0.8s ease-in-out infinite;\r\n  ${props =>\r\n    props.global &&\r\n    css`\r\n      position: absolute;\r\n      height: 100px;\r\n      width: 100px;\r\n      top: 50%;\r\n      left: 50%;\r\n      margin-left: -50px;\r\n      margin-top: -50px;\r\n    `}\r\n`;\r\n","import { useRef, useEffect } from 'react';\r\n\r\nexport const useIsFirstMount = () => {\r\n  const isMountRef = useRef(true);\r\n  useEffect(() => {\r\n    isMountRef.current = false;\r\n  }, []);\r\n  return isMountRef.current;\r\n};\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nfunction getBrowserVisibilityProp() {\r\n  if (typeof document.hidden !== \"undefined\") {\r\n    // Opera 12.10 and Firefox 18 and later support\r\n    return \"visibilitychange\"\r\n  } else if (typeof document.msHidden !== \"undefined\") {\r\n    return \"msvisibilitychange\"\r\n  } else if (typeof document.webkitHidden !== \"undefined\") {\r\n    return \"webkitvisibilitychange\"\r\n  }\r\n}\r\nfunction getBrowserDocumentHiddenProp() {\r\n  if (typeof document.hidden !== \"undefined\") {\r\n    return \"hidden\"\r\n  } else if (typeof document.msHidden !== \"undefined\") {\r\n    return \"msHidden\"\r\n  } else if (typeof document.webkitHidden !== \"undefined\") {\r\n    return \"webkitHidden\"\r\n  }\r\n}\r\nfunction getIsDocumentHidden() {\r\n  return !document[getBrowserDocumentHiddenProp()]\r\n}\r\n\r\nexport function usePageVisibility() {\r\n  const [isVisible, setIsVisible] = useState(getIsDocumentHidden())\r\n  const onVisibilityChange = () => setIsVisible(getIsDocumentHidden())\r\n  useEffect(() => {\r\n    const visibilityChange = getBrowserVisibilityProp()\r\n    document.addEventListener(visibilityChange, onVisibilityChange, false)\r\n    return () => {\r\n      document.removeEventListener(visibilityChange, onVisibilityChange)\r\n    }\r\n  })\r\n  return isVisible\r\n}\r\n","import { createGlobalStyle } from \"styled-components\";\r\nimport { normalize } from \"styled-normalize\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  ${normalize};\r\n\r\n  #nprogress .bar {\r\n    height: 4px;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import React, { useEffect } from 'react'\r\nimport NProgress from 'nprogress'\r\nimport { Loader } from '../common/loader'\r\nimport 'nprogress/nprogress.css'\r\n\r\nconst RouteNProgress = () => {\r\n  useEffect(() => {\r\n    NProgress.start()\r\n    NProgress.inc()\r\n\r\n    return () => {\r\n      NProgress.done()\r\n      NProgress.remove()\r\n    }\r\n  })\r\n\r\n  return <Loader global />\r\n};\r\n\r\nexport default RouteNProgress\r\n","const config = {\r\n  showSpinner: false,\r\n  minimum: 0.1,\r\n  easeing: 'swing',\r\n  speed: 200,\r\n  trickleRate: 0.2\r\n}\r\n\r\nexport default config\r\n","\r\nimport React from 'react'\r\nimport styled from \"styled-components\";\r\nimport { Layout } from 'antd'\r\n\r\nconst { Footer } = Layout\r\n\r\nconst FooterBlock = styled(Footer)`\r\n  text-align: center;\r\n`;\r\n\r\nconst FooterApp = () => {\r\n  return (\r\n    <FooterBlock>\r\n      todo-saga ©2020 Created by thejustvic\r\n    </FooterBlock>\r\n  );\r\n};\r\n\r\nexport default FooterApp\r\n","import OverlayScrollbars from 'overlayscrollbars'\r\nimport 'overlayscrollbars/css/OverlayScrollbars.css'\r\n\r\nconst instBodyOverlayScrollbar = OverlayScrollbars(document.body, {})\r\n\r\nexport const changeBodyScrollbarTheme = name => {\r\n  return instBodyOverlayScrollbar.options({ \r\n    className: `os-theme-${name === 'light' ? 'dark' : 'light'}`\r\n  })\r\n}","\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Select } from 'antd'\r\nimport darkVars from '../../themes/dark.json';\r\nimport lightVars from '../../themes/light.json';\r\nimport { changeBodyScrollbarTheme } from '../../config/overlayBodyScrollbar';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { appTheme } from '../../store/actions/theme';\r\n\r\nconst ThemeSwitcher = () => {\r\n  const dispatch = useDispatch()\r\n  const { name } = useSelector(state => state.theme)\r\n  const [vars, setVars] = useState(JSON.parse(localStorage.getItem(\"app-theme\")) || lightVars)\r\n\r\n  useEffect(() => {\r\n    window.less.modifyVars(vars).catch(error => { })\r\n    changeBodyScrollbarTheme(name)\r\n  }, [])// eslint-disable-line\r\n\r\n  useEffect(() => {\r\n    changeBodyScrollbarTheme(name)\r\n  }, [name])// eslint-disable-line\r\n\r\n  return (\r\n    <Select\r\n      placeholder=\"Please select theme\"\r\n      value={name}\r\n      onSelect={value => {\r\n        let vars = value === 'light' ? lightVars : darkVars\r\n        vars = { ...vars, '@white': '#fff', '@black': '#000' }\r\n        dispatch(appTheme(value))\r\n        setVars(vars)\r\n        localStorage.setItem(\"app-theme\", JSON.stringify(vars))\r\n        localStorage.setItem(\"theme-name\", value)\r\n        window.less.modifyVars(vars).catch(error => { })\r\n      }}\r\n    >\r\n      <Select.Option value=\"light\">Light</Select.Option>\r\n      <Select.Option value=\"dark\">Dark</Select.Option>\r\n    </Select>\r\n  )\r\n}\r\n\r\nexport default ThemeSwitcher\r\n","\r\nimport React from 'react'\r\nimport styled from \"styled-components\"\r\nimport { Layout } from 'antd'\r\nimport ThemeSwitcher from '../../theme'\r\n\r\nconst { Header } = Layout\r\n\r\nconst HeadBlock = styled(Header)`\r\n  padding: 0px 16px 0px 16px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-flow: row-reverse;\r\n  h1 {\r\n    margin: 0;\r\n    font-size: 21px;\r\n    color: #868e96;\r\n  }\r\n  position: fixed; \r\n  top: 0;\r\n  right: 0;\r\n  z-index: 1000;\r\n  left: 0;\r\n`\r\n\r\nconst Head = ({ collapsed }) => {\r\n  const today = new Date().toLocaleDateString();\r\n\r\n  return (\r\n    <HeadBlock collapsed={collapsed}>\r\n      <ThemeSwitcher />\r\n      <h1>{today}</h1>\r\n    </HeadBlock>\r\n  )\r\n}\r\n\r\nexport default Head\r\n","import React from 'react'\r\nimport styled, { css } from \"styled-components\";\r\nimport { Layout } from 'antd'\r\nimport Footer from './footer'\r\nimport Header from './header'\r\n\r\nconst { Content } = Layout\r\n\r\nconst ContentBlock = styled(Content)`\r\n  margin: 100px 20px 16px;\r\n  position: relative;\r\n`;\r\nconst LayoutBlock = styled(Layout)`\r\n  min-height: 100vh;\r\n`;\r\nconst LayoutInner = styled(Layout)`\r\n  transition: all 0.2s;\r\n`;\r\n\r\n\r\nconst PublicLayout = ({ children }) => {\r\n\r\n  return (\r\n    <LayoutBlock>\r\n      <LayoutInner>\r\n        <Header />\r\n        <ContentBlock>\r\n          {children}\r\n        </ContentBlock>\r\n        <Footer />\r\n      </LayoutInner>\r\n    </LayoutBlock>\r\n  )\r\n}\r\n\r\nexport default PublicLayout\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom';\r\nimport PublicLayout from '../layout/public';\r\n\r\nconst PublicRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={routeProps => (\r\n        <PublicLayout>\r\n          <Component {...routeProps} />\r\n        </PublicLayout>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PublicRoute\r\n","import React from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport { Layout, Menu } from 'antd'\r\nimport {\r\n  HomeOutlined,\r\n  TeamOutlined,\r\n} from '@ant-design/icons'\r\nimport styled, { css } from \"styled-components\";\r\n\r\nconst { Sider } = Layout\r\n\r\nconst SiderBlock = styled(Sider)`\r\n  overflow: auto;\r\n  height: 100vh;\r\n  position: fixed;\r\n  left: 0;\r\n`;\r\nconst Logo = styled.div`\r\n  height: 200px;\r\n  width: auto;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  ${({ src }) =>\r\n    src && css`\r\n      background-image: url(${src});\r\n  `}\r\n  ${({ collapsed }) =>\r\n    collapsed && css`\r\n      height: 80px;\r\n  `}\r\n  transition: all 0.2s;\r\n`;\r\n\r\nconst App = ({ collapsed, onCollapse }) => {\r\n  const location = useLocation()\r\n  return (\r\n    <SiderBlock\r\n      collapsible\r\n      collapsed={collapsed}\r\n      onCollapse={onCollapse}\r\n    >\r\n      <Logo src={`${process.env.PUBLIC_URL}/logo.png`} collapsed={collapsed}/>\r\n      <Menu\r\n        theme=\"dark\"\r\n        mode=\"inline\"\r\n        selectedKeys={[location.pathname]}\r\n      >\r\n        <Menu.Item key=\"/todo\" danger={true} title={'Home'}>\r\n          <HomeOutlined />\r\n          <span>Home</span>\r\n          <Link to=\"/todo\"></Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"/users\" title={'some of users'}>\r\n          <TeamOutlined />\r\n          <span>Users</span>\r\n          <Link to=\"/users\"></Link>\r\n        </Menu.Item>\r\n      </Menu>\r\n    </SiderBlock>\r\n  );\r\n};\r\n\r\nexport default App\r\n","\r\nimport React from 'react'\r\nimport styled from \"styled-components\";\r\nimport { Layout } from 'antd'\r\n\r\nconst { Footer } = Layout\r\n\r\nconst FooterBlock = styled(Footer)`\r\n  text-align: center;\r\n`;\r\n\r\nconst FooterApp = () => {\r\n  return (\r\n    <FooterBlock>\r\n      todo-saga ©2020 Created by thejustvic\r\n    </FooterBlock>\r\n  );\r\n};\r\n\r\nexport default FooterApp\r\n","\r\nimport React from 'react'\r\nimport styled, { css } from \"styled-components\"\r\nimport { Button, Layout, Menu } from 'antd'\r\nimport ThemeSwitcher from '../../theme'\r\nimport { Mobile } from '../../../common/responsive'\r\nimport { useDrawer } from '../../../common/drawer'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport {\r\n  HomeOutlined,\r\n  TeamOutlined,\r\n  MoreOutlined\r\n} from '@ant-design/icons'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst { Header } = Layout\r\n\r\nconst HeadBlock = styled(Header)`\r\n  padding: 0px 16px 0px 16px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-flow: row-reverse;\r\n  h1 {\r\n    margin: 0;\r\n    font-size: 21px;\r\n    color: #868e96;\r\n  }\r\n  position: fixed; \r\n  top: 0;\r\n  right: 0;\r\n  z-index: 1000;\r\n\r\n  left: 0px;\r\n  ${({ collapsed }) => collapsed === true && css`left: 80px;`}\r\n  ${({ collapsed }) => collapsed === false && css`left: 200px;`}\r\n\r\n  transition: all 0.2s;\r\n`\r\n\r\nconst Logo = styled.div`\r\n  height: 200px;\r\n  width: auto;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  ${({ src }) =>\r\n    src && css`\r\n      background-image: url(${src});\r\n  `}\r\n  transition: all 0.2s;\r\n`;\r\n\r\nconst Head = ({ collapsed }) => {\r\n  const today = new Date().toLocaleDateString();\r\n  const { name } = useSelector(state => state.theme)\r\n  const { showDrawer, renderDrawer } = useDrawer()\r\n  const location = useLocation()\r\n\r\n  return (\r\n    <HeadBlock collapsed={collapsed}>\r\n      <ThemeSwitcher />\r\n      <h1>{today}</h1>\r\n      <Mobile>\r\n        <Button type=\"primary\" onClick={showDrawer}>\r\n          <MoreOutlined onClick={showDrawer}/>\r\n        </Button>\r\n        {renderDrawer({\r\n          render: () => {\r\n            return <Menu\r\n              theme={name}\r\n              mode=\"inline\"\r\n              selectedKeys={[location.pathname]}\r\n            >\r\n              <Logo src={`${process.env.PUBLIC_URL}/logo.png`} />\r\n              <Menu.Item key=\"/todo\" danger={true} title={'Home'}>\r\n                <HomeOutlined />\r\n                <span>Home</span>\r\n                <Link to=\"/todo\"></Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"/users\" title={'some of users'}>\r\n                <TeamOutlined />\r\n                <span>Users</span>\r\n                <Link to=\"/users\"></Link>\r\n              </Menu.Item>\r\n            </Menu>\r\n          }\r\n        })}\r\n      </Mobile>\r\n    </HeadBlock>\r\n  )\r\n}\r\n\r\nexport default Head\r\n","import React, { useState } from 'react'\r\nimport { Drawer } from 'antd';\r\n\r\nexport const useDrawer = () => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const showDrawer = () => setIsVisible(true)\r\n  const hideDrawer = () => setIsVisible(false)\r\n  const renderDrawer = ({\r\n    render, ...props\r\n  }) => (\r\n      <Drawer\r\n        placement={'left'}\r\n        closable={false}\r\n        onClose={hideDrawer}\r\n        visible={isVisible}\r\n        key={'left'}\r\n        {...props}\r\n      >\r\n        {typeof render === \"function\" ? render() : <>Empty Drawer</>}\r\n      </Drawer>\r\n    )\r\n\r\n  return {\r\n    showDrawer,\r\n    hideDrawer,\r\n    renderDrawer,\r\n  }\r\n}","import React, { useState } from 'react'\r\nimport styled, { css } from \"styled-components\";\r\nimport { Layout } from 'antd'\r\nimport Sider from './sider'\r\nimport Footer from './footer'\r\nimport Header from './header'\r\nimport { Default, Mobile } from '../../common/responsive';\r\n\r\nconst { Content } = Layout\r\n\r\nconst ContentBlock = styled(Content)`\r\n  margin: 100px 20px 16px;\r\n  position: relative;\r\n`;\r\nconst LayoutBlock = styled(Layout)`\r\n  min-height: 100vh;\r\n`;\r\nconst LayoutInner = styled(Layout)`\r\n  transition: all 0.2s;\r\n  margin-left: 0px;\r\n  ${({ collapsed }) => collapsed === true && css`margin-left: 80px;`}\r\n  ${({ collapsed }) => collapsed === false && css`margin-left: 200px;`}\r\n`;\r\n\r\n\r\nconst PrivateLayout = ({ children }) => {\r\n  const [collapsed, setCollapsed] = useState(false)\r\n  const onCollapse = (collapsed) => setCollapsed(collapsed)\r\n\r\n  return (\r\n    <LayoutBlock>\r\n\r\n      <Default>\r\n        <Sider collapsed={collapsed} onCollapse={onCollapse} />\r\n        <LayoutInner collapsed={collapsed}>\r\n          <Header collapsed={collapsed} />\r\n          <ContentBlock>\r\n            {children}\r\n          </ContentBlock>\r\n          <Footer />\r\n        </LayoutInner>\r\n      </Default>\r\n      \r\n      <Mobile>\r\n        <LayoutInner>\r\n          <Header />\r\n          <ContentBlock>\r\n            {children}\r\n          </ContentBlock>\r\n          <Footer />\r\n        </LayoutInner>\r\n      </Mobile>\r\n\r\n    </LayoutBlock>\r\n  )\r\n}\r\n\r\nexport default PrivateLayout\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom';\r\nimport PrivateLayout from '../layout/private';\r\n\r\nconst PublicRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={routeProps => (\r\n        <PrivateLayout>\r\n          <Component {...routeProps} />\r\n        </PrivateLayout>\r\n      )}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PublicRoute\r\n","\r\nimport React, { Suspense, lazy } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { ConnectedRouter } from 'connected-react-router'\r\nimport RouteNProgress from '../utils/routeNProgress'\r\nimport NProgress from 'nprogress'\r\nimport config from '../config/nprogress'\r\nimport PublicRoute from '../utils/publicRoute'\r\nimport PrivateRoute from '../utils/privateRoute'\r\nimport { history } from '../store'\r\nNProgress.configure(config)\r\n\r\nconst ToDo = lazy(() => import('../pages/todo'))\r\nconst SignUp = lazy(() => import('../pages/signup'))\r\nconst NotFound = lazy(() => import('../pages/notFound'))\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <ConnectedRouter history={history} >\r\n        <Suspense fallback={<RouteNProgress />}>\r\n          {\r\n            window.location.pathname === '/' &&\r\n            <Redirect to={{\r\n              pathname: '/todo'\r\n            }} />\r\n          }\r\n          <Switch>\r\n            <PrivateRoute path=\"/todo\" component={ToDo} />\r\n            <PublicRoute path=\"/signup\" component={SignUp} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </Suspense>\r\n      </ConnectedRouter>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nconst getOnLineStatus = () =>\r\n  typeof navigator !== 'undefined' && typeof navigator.onLine === 'boolean'\r\n    ? navigator.onLine\r\n    : true\r\n\r\nexport const useNavigatorOnLine = () => {\r\n  const [status, setStatus] = useState(getOnLineStatus())\r\n\r\n  const setOnline = () => setStatus(true)\r\n  const setOffline = () => setStatus(false)\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('online', setOnline)\r\n    window.addEventListener('offline', setOffline)\r\n\r\n    return () => {\r\n      window.removeEventListener('online', setOnline)\r\n      window.removeEventListener('offline', setOffline)\r\n    }\r\n  }, [])\r\n\r\n  return status\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useModal } from '../common/modal/default'\r\nimport { useIsFirstMount } from '../hooks/useIsFirstMount'\r\nimport { useNavigatorOnLine } from '../hooks/useNavigatorOnLine'\r\n\r\nconst CheckOnlineStatusModal = () => {\r\n  const isFirstMount = useIsFirstMount()\r\n  const isOnline = useNavigatorOnLine()\r\n  const [message, setMessage] = useState()\r\n  const { showModal, renderModal } = useModal()\r\n\r\n  useEffect(() => {\r\n    if (!isFirstMount) {\r\n      if (isOnline) {\r\n        setMessage('доступ к сети восстановлен')\r\n      }\r\n      else {\r\n        setMessage('отсутствует доступ к сети')\r\n      }\r\n      showModal()\r\n    }\r\n  }, [isOnline])// eslint-disable-line\r\n\r\n  return renderModal({ message })\r\n}\r\n\r\nexport default CheckOnlineStatusModal\r\n\r\n","import React, { useState } from 'react'\r\nimport { Modal } from 'antd';\r\n\r\nexport const useModal = () => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n  const showModal = () => setIsVisible(true)\r\n  const hideModal = () => setIsVisible(false)\r\n  const renderModal = ({\r\n    message\r\n  }) => (\r\n      <Modal\r\n        footer={null}\r\n        visible={isVisible}\r\n        onCancel={hideModal}\r\n      >\r\n        <h3>{message}</h3>\r\n      </Modal>\r\n    )\r\n\r\n  return {\r\n    showModal,\r\n    hideModal,\r\n    renderModal,\r\n  }\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useInterval } from '../hooks/useInterval'\r\nimport { usePageVisibility } from '../hooks/usePageVisibility'\r\n\r\nconst CheckPageVisibilityStatus = () => {\r\n  const isVisible = usePageVisibility()\r\n  const [time, setTime] = useState(null)\r\n\r\n  useInterval(() => {\r\n    console.log('шпионим вне поля зрения')\r\n  }, time)\r\n\r\n  useEffect(() => {\r\n    if (isVisible) {\r\n      setTime(null)\r\n    }\r\n    else {\r\n      setTime(1000)\r\n    }\r\n  }, [isVisible])\r\n\r\n  return <></>\r\n}\r\n\r\nexport default CheckPageVisibilityStatus\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport const useInterval = (callback, delay) => {\r\n  const savedCallback = useRef()\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current()\r\n    }\r\n    if (delay !== null) {\r\n      let id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n  }, [delay])\r\n}\r\n\r\n// Using the state variable 'delay' you can control the interval time. By setting it to null the interval will stop running.\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from \"react-redux\"\r\nimport { ConfigProvider } from 'antd'\r\nimport ru_RU from 'antd/es/locale/ru_RU'\r\nimport GlobalStyle from './styles/global'\r\nimport store from \"./store\"\r\nimport App from './routes'\r\nimport CheckOnlineStatusModal from './utils/checkOnlineStatusModal'\r\nimport CheckPageVisibilityStatus from './utils/checkPageVisibilityStatus'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ConfigProvider locale={ru_RU}>\r\n      <CheckOnlineStatusModal />\r\n      <CheckPageVisibilityStatus />\r\n      <GlobalStyle />\r\n      <App />\r\n    </ConfigProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n","const config = {\r\n  placement: 'bottomRight',\r\n  bottom: 25,\r\n  duration: 1,\r\n}\r\n\r\nexport default config\r\n","\r\nimport { notification as notifi } from 'antd'\r\nimport config from \"../../config/notification\"\r\n\r\nconst notification = {\r\n  error: message => {\r\n    notifi.error({\r\n      message: message || \"error\",\r\n      ...config,\r\n    })\r\n  },\r\n  success: message => {\r\n    notifi.success({\r\n      message: message || \"success\",\r\n      ...config,\r\n    })\r\n  },\r\n  warning: message => {\r\n    notifi.warning({\r\n      message: message || \"warning\",\r\n      ...config,\r\n    })\r\n  },\r\n  info: message => {\r\n    notifi.info({\r\n      message: message || \"info\",\r\n      ...config,\r\n    })\r\n  }\r\n}\r\n\r\nexport default notification\r\n","import axios from \"axios\";\r\nimport { cacheAdapterEnhancer, Cache } from 'axios-extensions';\r\nimport notification from \"../common/notification\";\r\n\r\nexport const axiosCache = new Cache({ maxAge: 30 * 1000 });\r\n\r\nconst cacheConfig = {\r\n  enabledByDefault: false,\r\n  cacheFlag: 'useCache',\r\n  defaultCache: axiosCache\r\n}\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://my-json-server.typicode.com/VictorPilipenko/todo-saga/',\r\n  headers: {\r\n    'Cache-Control': 'no-cache'\r\n  },\r\n  adapter: cacheAdapterEnhancer(axios.defaults.adapter, cacheConfig)\r\n});\r\n\r\n// I keep track of the current requests that are being executed\r\nexport const currentExecutingGetRequests = {};\r\n\r\ninstance.interceptors.request.use(\r\n  (req) => {\r\n    let originalRequest = req;\r\n    const main = req.url.split('?')[0]\r\n    if (originalRequest.method === 'get') {\r\n      if (currentExecutingGetRequests[main]) {\r\n        const source = currentExecutingGetRequests[main];\r\n        delete currentExecutingGetRequests[main];\r\n        source.cancel();\r\n      }\r\n    }\r\n    const CancelToken = axios.CancelToken;\r\n    const source = CancelToken.source();\r\n    originalRequest.cancelToken = source.token;\r\n    currentExecutingGetRequests[main] = source;\r\n\r\n    // here you could add the authorization header to the request\r\n\r\n    return originalRequest;\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\ninstance.interceptors.response.use(\r\n  (response) => {\r\n    if (response.config.method === 'get') {\r\n      if (currentExecutingGetRequests[response.request.responseURL]) {\r\n        // here you clean the request\r\n        delete currentExecutingGetRequests[response.request.responseURL];\r\n      }\r\n    }\r\n    else {\r\n      axiosCache.reset()\r\n    }\r\n\r\n    return response;\r\n  },\r\n  (error) => {\r\n    const { config, response, message } = error;\r\n    const originalRequest = config;\r\n    const main = originalRequest.url.split('?')[0]\r\n\r\n    if (originalRequest.method === 'get') {\r\n      if (axios.isCancel(error)) {\r\n        // here you check if this is a cancelled request to drop it silently (without error)\r\n        return new Promise(() => { });\r\n      }\r\n\r\n      if (currentExecutingGetRequests[main]) {\r\n        // here you clean the request\r\n        delete currentExecutingGetRequests[main];\r\n      }\r\n    }\r\n\r\n    // here you could check expired token and refresh it if necessary\r\n\r\n\r\n    // check if it's a server error\r\n    if (!response) {\r\n      notification.warning('Network/Server Error');\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    // all the error responses\r\n    switch (response.status) {\r\n      case 400:\r\n        console.error(response.status, message);\r\n        notification.warning('Bad Request');\r\n        break;\r\n      case 401: // authentication error, logout the user\r\n        notification.warning('Unauthorized');\r\n        // localStorage.removeItem('token');\r\n        // router.push('/auth');\r\n        break;\r\n      case 404:\r\n        notification.warning('Data Not Found');\r\n        break;\r\n      case 429:\r\n        notification.warning('Too Many Requests');\r\n        break;\r\n      default:\r\n        console.error(response.status, message);\r\n        notification.error('Server Error');\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default instance;\r\n"],"sourceRoot":""}